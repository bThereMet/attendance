<!DOCTYPE HTML>
<html>
	<head>
		<title>login</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload">

		<!-- Header -->
			<section id="header">
				<header>
					<h1>bThere: Prove Attendance</h1>
					<p>Unhackable Attendance Tracker</p>
				</header>
				<body>
					<p>Click to Confirm Location and Fill out Form:</p>

<button onclick="getLocation()">Attend</button>


<p id="demo"></p>

<script>
var x = document.getElementById("demo");

function getLocation() {
    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(showPosition, showError);
    } else {
        x.innerHTML = "Geolocation is not supported by this browser.";
    }
}

function showPosition(position) {

    // CHANGE THESE COORDINATES FOR CHOU HALL
    // CURRENTLY UNIT 1 COORDS
    Chou_lat = 37.8722
    Chou_long = -122.2546

    //x.innerHTML = "Latitude: " + position.coords.latitude +
    //"<br>Longitude: " + position.coords.longitude;

		//const he = "<iframe> src='https://docs.google.com/forms/d/e/1FAIpQLSe1cxzTTzW8CtSzD3plSiUbFd4efcqw7KAZn53NzLgeylXg3A/viewform?embedded=true' width='640' height='699' frameborder='0' marginheight='0' marginwidth='0'>Loading...</iframe>";
    if (Math.abs(position.coords.latitude - Chou_lat) <= Math.pow(10, -3) && Math.abs(position.coords.longitude - Chou_long) <= Math.pow(10, -3)){
			x.innerHTML += "<iframe src='https://docs.google.com/forms/d/e/1FAIpQLSdG-MFTG8NdsBhZSZ7FEYgG5KPf2f2BEgLfXt9qIw40c4MQIw/viewform?embedded=true' width='640' height='699' frameborder='0' marginheight='0' marginwidth='0'>Loading...</iframe>";
		}

}

function showError(error) {
    switch(error.code) {
        case error.PERMISSION_DENIED:
            x.innerHTML = "User denied the request for Geolocation."
            break;
        case error.POSITION_UNAVAILABLE:
            x.innerHTML = "Location information is unavailable."
            break;
        case error.TIMEOUT:
            x.innerHTML = "The request to get user location timed out."
            break;
        case error.UNKNOWN_ERROR:
            x.innerHTML = "An unknown error occurred."
            break;
    }
}
</script>

</body>
			</section>


			<section id="footer">
				<ul class="icons">
					<li><a href="#" class="icon fa-twitter"><span class="label">Twitter</span></a></li>
					<li><a href="#" class="icon fa-facebook"><span class="label">Facebook</span></a></li>
					<li><a href="#" class="icon fa-google-plus"><span class="label">Google+</span></a></li>
					<li><a href="#" class="icon fa-pinterest"><span class="label">Pinterest</span></a></li>
					<li><a href="#" class="icon fa-dribbble"><span class="label">Dribbble</span></a></li>
					<li><a href="#" class="icon fa-linkedin"><span class="label">LinkedIn</span></a></li>
				</ul>
				<div class="copyright">
					<ul class="menu">
						<li>&copy; bThere. All rights reserved.</li><li>Template: <a href="http://html5up.net">HTML5 UP</a></li>
					</ul>
				</div>
			</section>

			<!-- Scripts -->
				<script src="assets/js/jquery.min.js"></script>
				<script src="assets/js/jquery.scrolly.min.js"></script>
				<script src="assets/js/jquery.poptrox.min.js"></script>
				<script src="assets/js/browser.min.js"></script>
				<script src="assets/js/breakpoints.min.js"></script>
				<script src="assets/js/util.js"></script>
				<script src="assets/js/main.js"></script>

		</body>
	</html>
